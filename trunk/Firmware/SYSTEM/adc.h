//****************************************************************************
// Projekt:	
//
// File:	adc.h
//
// Author:	Tobias Weber
//
// Version: 1.00A
//
// Beschreibung: 
//
// Copyright (c) SEBA KMT 2006 Baunach, Germany
//****************************************************************************
#ifndef _ADC_H_
#define _ADC_H_

// ************************** GOBAL CONFIG INCLUDE ***************************
#include  "config.h"

//******************************* INCLUDES ***********************************
#include  "types.h"

//******************************* DEFINES ************************************

#define _ADC_MAVG_POINTS 128
#define _ADC_ADC_CHANS   5

typedef struct {
  u8 channel;
  u8 buffer[_ADC_MAVG_POINTS];
  u8 mavgp;
  u16 value;
} t_ADC_channel;

//************************* FUNCTION PROTOTYPES ******************************

//**************************************************************************
// ADC_init
// Initialises the AT91 ADC part
//**************************************************************************
void ADC_init(t_ADC_channel* cs);


//**************************************************************************
// ADC_start_conversion
// Starts the ADC conversion
//**************************************************************************
void ADC_start_conversion(void);


//**************************************************************************
// ADC_get_result
// 
//**************************************************************************
u16 ADC_get_result(const t_ADC_channel* cs);

//**************************************************************************
// ADC_get_mavg
// 
//**************************************************************************
u16 ADC_get_mavg(t_ADC_channel* cs);


#endif //_ADC_H_
